#!/usr/bin/expect -f

# Gitee Pages éƒ¨ç½²è„šæœ¬ - è‡ªåŠ¨å¤„ç†è®¤è¯

set timeout 300
set repo_url "https://gitee.com/laohuanglearndharma/trungpa-dharma-ai.git"

# è®¾ç½®è®¤è¯ä¿¡æ¯
set username "laohuanglearndharma"
set password "Amituofo2026"

spawn git push gitee main

expect {
    timeout {
        send_user "\nâŒ æ“ä½œè¶…æ—¶\n"
        exit 1
    }

    "Username for '*" {
        send "$username\n"
        exp_continue
    }

    "Password for '*" {
        send "$password\n"
        exp_continue
    }

    "Branch 'main' set up to track remote branch 'main'" {
        # æ„å¤–æƒ…å†µï¼Œç»§ç»­
        exp_continue
    }

    "Everything up-to-date" {
        send_user "\nâœ… æ¨é€æˆåŠŸï¼ä»£ç å·²æ˜¯æœ€æ–°çš„\n"
        exp_continue
    }

    "Branch 'main' set up to track remote branch 'main'" {
        send_user "\nâœ… é¦–æ¬¡æ¨é€æˆåŠŸï¼\n"
        exp_continue
    }

    "Enumerating objects" {
        send_user "\nğŸ“¤ æ­£åœ¨ä¸Šä¼ ...\n"
        exp_continue
    }

    "Writing objects" {
        send_user "\nğŸ“ æ­£åœ¨å†™å…¥...\n"
        exp_continue
    }

    "Total" {
        send_user "\nğŸ“¦ æ€»è¿›åº¦: "
        exp_continue
    }

    "remote:" {
        send_user "\n\n"
        exp_continue
    }

    "Receiving objects" {
        send_user "\nâœ… æœåŠ¡å™¨æ­£åœ¨æ¥æ”¶...\n"
        exp_continue
    }

    "Resolving deltas" {
        send_user "\nâœ… æ­£åœ¨åº”ç”¨æ›´æ”¹...\n"
        exp_continue
    }

    "error:" {
        send_user "\nâŒ é”™è¯¯: "
        exp_continue
    }

    "fatal:" {
        send_user "\nâŒ è‡´å‘½é”™è¯¯: "
        exit 1
    }

    eof {
        send_user "\n\nâœ…âœ…âœ… éƒ¨ç½²å®Œæˆï¼\n"
        send_user "\nğŸ“± ä¸‹ä¸€æ­¥ï¼šè®¿é—® Gitee Pages å¼€å¯æœåŠ¡\n"
        send_user "\nğŸŒ Gitee ä»“åº“ï¼šhttps://gitee.com/laohuanglearndharma/trungpa-dharma-ai\n"
        exit 0
    }
}

interact
